# Security

## Key handling (RS256 / JWKS)
- Access tokens are signed using an RSA **private key**.
- Services verify tokens using the **public key** published via JWKS.

### Repository policy
- **No private keys are committed to git.**
- Local keys must be generated by the developer and provided at runtime.

### Key generation
See: `auth_service/keys/README.md`

## Secrets and configuration
- Secrets are stored in local `.env` files (not committed).
- `.env` samples are provided for reproducible local runs.

## Trust boundaries
- External clients are untrusted.
- The Auth Service is the issuer of tokens and must protect signing key material.
- Downstream services must treat access tokens as untrusted input and verify signature + claims.
- Rate limiting uses client IP.
- X-Forwarded-For is only trusted when TRUST_PROXY_HEADERS=true.
- Default is false (safe for direct exposure).
- In production behind reverse proxy enable it.

## Guarantees (local standalone)
- No automatic migrations/seeding on container startup.
- No default superuser creation without explicit password.

## Non-goals / limitations
- This standalone setup is for local development/demo and is not a production deployment guide.
- Production hardening (rotation, HSM/KMS, advanced auditing) is out of scope for this repo.
